{
  "name": "My workflow 4",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.4,
      "position": [
        0,
        0
      ],
      "id": "bab8567b-5b96-4c93-95cf-055fdd87cc2c",
      "name": "When chat message received",
      "webhookId": "ef61a2fb-726a-4d80-91bf-9aa1393f9253"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3.1,
      "position": [
        208,
        -16
      ],
      "id": "eb9501ad-1dec-4a23-a73f-bc0fe85f13f3",
      "name": "AI Agent"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        304,
        208
      ],
      "id": "ecff2544-9f13-4b11-8853-27c5bd5d5ede",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolDescription": "This tool allows the AI agent to read and analyze the contents of a specific document provided by the user (such as PDF, Word, or text files). The AI agent must search **inside the document** to find relevant information and provide answers based **only** on the contents of that document.\n\nKey instructions for the AI agent:\n\n1. Do not use external knowledge or sources; answers must come **only from the document provided**.\n2. The document can be any text-based format (PDF, Word, etc.).\n3. The AI agent should first read and understand the entire document, then search for information relevant to the user’s question.\n4. Extract and summarize information accurately from the document.\n5. If the information is not present in the document, respond with “The document does not contain this information.”\n\nInput:\n\n* The document file provided by the user.\n* The user’s question.\n\nOutput:\n\n* An answer to the user’s question based strictly on the document content.\n",
        "pineconeIndex": {
          "__rl": true,
          "value": "financial-analysis-agent",
          "mode": "list",
          "cachedResultName": "financial-analysis-agent"
        },
        "options": {
          "pineconeNamespace": "Apple financial analysis"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1.3,
      "position": [
        608,
        0
      ],
      "id": "a23f9c80-eb63-4f78-858b-9947767fa9f0",
      "name": "Pinecone Vector Store",
      "credentials": {
        "pineconeApi": {
          "id": "ZIrFoaAPlEjVXMpT",
          "name": "PineconeApi account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        608,
        160
      ],
      "id": "cc9a7a89-341f-44ab-9087-7a19e0ea33a4",
      "name": "Embeddings OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "DtdOqBy3iqTaBs7L",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-5-mini"
        },
        "builtInTools": {},
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        80,
        192
      ],
      "id": "39a50147-51f0-42fd-8cc4-739b5cfc4a32",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "DtdOqBy3iqTaBs7L",
          "name": "OpenAi account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Pinecone Vector Store": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Pinecone Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1",
    "binaryMode": "separate",
    "availableInMCP": false
  },
  "versionId": "5747eef6-dec5-411f-aa80-ccccf16e14bb",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "a5ec558296ac7165ead0a7a2f898679ab10216f5e58879b2803ceb24566c34f7"
  },
  "id": "GncfvVV1W4pGu56s",
  "tags": []
}